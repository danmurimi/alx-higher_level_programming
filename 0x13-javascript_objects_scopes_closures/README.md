Solution for javascript objects, scopes and closures
